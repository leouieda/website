{# Template for a blog post #}
{% extends "base.html" %}

{% import "macros.html" as macros %}

{%- block content %}
  {% if page.article_class is defined %}
    {% set extra_classes = page.article_class %}
  {% else %}
    {% set extra_classes = "" %}
  {% endif %}
  <article class="flow {{ extra_classes }}">
    <h1>
      {{ page.title }}
    </h1>
    <p class="text-muted font-small">
      <i class="far fa-calendar-alt me-1" aria-hidden="true"></i>
      {{ page.date|replace("-", "/") }}
    </p>
    {{ page.body }}
  </article>

  {{ macros.button_link(site["blog/index"].path|relative_to(page.path), "Back to the blog", type="btn-outline-light", icon="far fa-arrow-alt-circle-left", size="", external="false") }}

  <section class="comments flow">
    <p>
      <strong>Questions or comments? Leave them below!</strong>
      <br>
      Anyone taking part in discussions must follow the
      <a href="{{ config.coc }}" target="_blank">Code of Conduct</a>.
    </p>
    <script src="https://giscus.app/client.js"
        data-repo="leouieda/website"
        data-repo-id="MDEwOlJlcG9zaXRvcnkxNTM0MTczNg=="
        data-category="Comments"
        data-category-id="DIC_kwDOAOoYqM4CVhZh"
        data-mapping="og:title"
        data-strict="1"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="dark_protanopia"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
    </script>
  </section>
{%- endblock %}
