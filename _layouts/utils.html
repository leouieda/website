{# Utility functions for the templates #}

{% macro fa(name, class='', title='') %}
    <i class="fa fa-{{ name }} {{ class }}" title="{{ title }}"></i>
{% endmacro %}

{% macro ai(name, class='', title='') %}
    <i class="ai ai-{{ name }} {{ class }}" title="{{ title }}"></i>
{% endmacro %}

{% macro card(page, date=true, show_oa=false, inprogress=false) %}
<a href="{{ page.url }}">
    <div class="card">
        {% if page.thumbnail is defined %}
            <img src="/images/thumb/{{page.thumbnail}}">
        {%  endif %}
        <div class="card-caption">
            {% if show_oa and page.oa is defined and page.oa %}
                {{ ai("open-access") }}
            {% endif %}
            <span class="card-title">
                {{ page.title }}
            </span>
            {% if date %}
                ({{ page.date.year }})
            {% endif %}
            </br>
            {% if inprogress and page.inprogress is defined and page.inprogress %}
                <span class="label label-primary">IN PROGRESS</span>
            {% endif %}
            {% if page.inreview is defined and page.inreview %}
                <span class="label label-warning">UNDER REVIEW</span>
            {% endif %}
            {% if page.accepted is defined and page.accepted %}
                <span class="label label-primary">ACCEPTED</span>
            {% endif %}
        </div>
    </div></a>
{% endmacro %}

{% macro get_authors(article, site) %}
    {% for author in article.author.split(', ') %}
        {% if author == site.author %}
            {% set author_name = "<strong>" + site.authors[author] + "</strong>" %}
        {% else %}
            {% set author_name = site.authors[author] %}
        {% endif %}
        {{ author_name }}{% if not loop.last %}, {% endif %}
    {% endfor %}
{% endmacro %}
